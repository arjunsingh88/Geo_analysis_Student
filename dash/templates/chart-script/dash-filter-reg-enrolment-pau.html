{% load static %}
<html>
<head>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.9.1.js"></script>
    <script src="{% static 'dash/chartjs/js/Chart.min.js' %}"></script>
</head>
<body>
	  <label>Choose Year</label>

		 	<select id="category_faq">
	             <option value="1">Scatter</option>
	             <option value="2">Linear Regression</option>
	             <option value="3">Polynomial Regression Degree 2</option>
	             <option value="4">Polynomial Regression Degree 3</option>
				 <option value="5">Polynomial Regression Degree 4</option>

	        </select>
        </div>
         <div> <canvas id="chart1"></canvas></div>

<script type="text/javascript">

var endpoint = '/dash/api/chart/data/';

var xaxis_enrollment_pau = []
var yaxis_enrollment_pau = []
var y_hat_p1_enrollment_pau = []
var y_hat_p2_enrollment_pau = []
var y_hat_p3_enrollment_pau = []
var y_hat_p4_enrollment_pau = []


$.ajax({
    method: "GET",
    url: endpoint,
    success: function(data){
        xaxis_enrollment_pau = data.xaxis_enrollment_pau
        yaxis_enrollment_pau = data.yaxis_enrollment_pau
        y_hat_p1_enrollment_pau = data.y_hat_p1_enrollment_pau
        y_hat_p2_enrollment_pau = data.y_hat_p2_enrollment_pau
        y_hat_p3_enrollment_pau = data.y_hat_p3_enrollment_pau
		y_hat_p4_enrollment_pau = data.y_hat_p4_enrollment_pau


		setChart()
    },
    error: function(error_data){
        console.log("error")
        console.log(error_data)
    }
})

function setChart(){
// ************************************CHART Scatter*****************************************************
        var ctx1 = document.getElementById("chart1").getContext("2d");
   	 var data1 = {
        labels: xaxis_enrollment_pau,
        datasets: [
            {

				label: "Scatter",
                fillColor : "transparent",
                strokeColor: "transparent",
                pointColor: "rgb(255,0,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,0)",
                data:  yaxis_enrollment_pau,
            },

        ]
    };

// ************************************CHART LINEAR*****************************************************

      var ctx2 = document.getElementById("chart1").getContext("2d");
    var data2 = {
        labels: xaxis_enrollment_pau,
        datasets: [
            {
				label: "Scatter",
               	fillColor : "transparent",
                strokeColor: "transparent",
                pointColor: "rgb(255,0,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,0)",
                data:  yaxis_enrollment_pau,
            },
            {
                label: "Linear Degree 1",
                fillColor : "transparent",
                strokeColor: "rgb(0,255,0)",
                pointColor: "rgb(0,255,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0,255,0)",
                data: y_hat_p1_enrollment_pau,
            }

          ]

    };

// ************************************CHART POLY D2*****************************************************

     var ctx3 = document.getElementById("chart1").getContext("2d");
    var data3 = {
        labels: xaxis_enrollment_pau,
        datasets: [
            {
				label: "Scatter",
                fillColor : "transparent",
                strokeColor: "transparent",
                pointColor: "rgb(255,0,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,0)",
                data:  yaxis_enrollment_pau,
            },
            {
                label: "Linear Degree 1",
                fillColor : "transparent",
                strokeColor: "rgb(0,255,0)",
                pointColor: "rgb(0,255,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0,255,0)",
                data: y_hat_p1_enrollment_pau,
            },
            {
                label: "Poly Degree 2",
                fillColor : "transparent",
                strokeColor: "rgb(0, 0, 255)",
                pointColor: "rgb(0, 0, 255)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0, 0, 255)",
                data: y_hat_p2_enrollment_pau,
            },
        ]
    };
// ************************************CHART POLY D3*****************************************************
 var ctx4 = document.getElementById("chart1").getContext("2d");
    var data4 = {
        labels: xaxis_enrollment_pau,
        datasets: [
            {
				label: "Scatter",
                fillColor : "transparent",
                strokeColor: "transparent",
                pointColor: "rgb(255,0,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,0)",
                data:  yaxis_enrollment_pau,
            },
            {
                label: "Linear Degree 1",
                fillColor : "transparent",
                strokeColor: "rgb(0,255,0)",
                pointColor: "rgb(0,255,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0,255,0)",
                data: y_hat_p1_enrollment_pau,
            },
            {
                label: "Poly Degree 2",
                fillColor : "transparent",
                strokeColor: "rgb(0, 0, 255)",
                pointColor: "rgb(0, 0, 255)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0, 0, 255)",
                data: y_hat_p2_enrollment_pau,
            },
            {
                label: "Poly Degree 3",
                fillColor : "transparent",
                strokeColor: "rgb(255,0,255)",
                pointColor: "rgb(255,0,255)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,255)",
                data: y_hat_p3_enrollment_pau,
            },
        ]
    };

// ************************************CHART POLY D4*****************************************************
 var ctx5 = document.getElementById("chart1").getContext("2d");
    var data5 = {
        labels: xaxis_enrollment_pau,
        datasets: [
            {
				label: "Scatter",
                fillColor : "transparent",
                strokeColor: "transparent",
                pointColor: "rgb(255,0,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,0)",
                data:  yaxis_enrollment_pau,
            },
            {
                label: "Linear Degree 1",
                fillColor : "transparent",
                strokeColor: "rgb(0,255,0)",
                pointColor: "rgb(0,255,0)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0,255,0)",
                data: y_hat_p1_enrollment_pau,
            },
            {
                label: "Poly Degree 2",
                fillColor : "transparent",
                strokeColor: "rgb(0, 0, 255)",
                pointColor: "rgb(0, 0, 255)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(0, 0, 255)",
                data: y_hat_p2_enrollment_pau,
            },
            {
                label: "Poly Degree 3",
                fillColor : "transparent",
                strokeColor: "rgb(255,0,255)",
                pointColor: "rgb(255,0,255)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255,0,255)",
                data: y_hat_p3_enrollment_pau,
            },
            {
                label: "Poly Degree 4",
                fillColor : "transparent",
                strokeColor: "rgb(255, 140, 26)",
                pointColor: "rgb(255, 140, 26)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgb(255, 140, 26)",
                data: y_hat_p4_enrollment_pau,
            },
        ]
    };


// ************************************ CHART *****************************************************
     var chart1 = new Chart(ctx1).Line(data1, {

        scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,

        responsive: true,

    });

$('#category_faq').change(function(){
    var val = $(this).val();
    if(val==1)
    {
        chart1.destroy();
        chart1 = new Chart(ctx1).Line(data1, {
        scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,


        responsive: true


    });
    }
    else if(val==2)
    {
        chart1.destroy();
         chart1 = new Chart(ctx2).Line(data2, {
		scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,
        datasetFill : true,
        responsive: true,


    });
    }
    else if(val==3)
    {
        chart1.destroy();
        chart1 = new Chart(ctx3).Line(data3, {
		scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,
        datasetFill : true,
        responsive: true

    });
    }
    else if(val==4)
    {
        chart1.destroy();
        chart1 = new Chart(ctx4).Line(data4, {

        scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,
        datasetFill : true,
        responsive: true
    });
    }
    else if(val==5)
    {
        chart1.destroy();
        chart1 = new Chart(ctx5).Line(data5, {

        scaleShowGridLines : true,
        scaleGridLineColor : "rgba(0,0,0,.05)",
        scaleGridLineWidth : 1,
        scaleShowHorizontalLines: true,
        scaleShowVerticalLines: true,
        bezierCurve : true,
        bezierCurveTension : 0.4,
        pointDot : true,
        pointDotRadius : 4,
        pointDotStrokeWidth : 1,
        pointHitDetectionRadius : 20,
        datasetStroke : true,
        datasetStrokeWidth : 2,
        datasetFill : true,
        responsive: true
    });
    }
})
}
</script>

</body>
</html>